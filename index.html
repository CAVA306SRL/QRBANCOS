<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ruleta Interactiva - CAVA 306</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #f0f0f0, #c0e0d0);
      text-align: center;
      padding: 20px;
    }
    #ruleta {
      width: 300px;
      height: 300px;
      border: 10px solid #333;
      border-radius: 50%;
      margin: 30px auto;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }
    #puntero {
      position: absolute;
      top: -20px;
      left: 50%;
      margin-left: -10px;
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 20px solid red;
    }
    #girarBtn {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #009688;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    #resultado {
      margin-top: 30px;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .btn-whatsapp, .btn-cava {
      display: inline-block;
      margin: 10px;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
      color: white;
    }
    .btn-whatsapp {
      background: #25D366;
    }
    .btn-cava {
      background: #3f51b5;
    }
  </style>
</head>
<body>
  <h1>üå± Ruleta de Historias - CAVA 306</h1>
  <div id="ruleta">
    <div id="puntero"></div>
    <canvas id="canvas" width="300" height="300"></canvas>
  </div>
  <button id="girarBtn">üéØ Girar / Detener</button>

  <div id="resultado"></div>

  <script>
    const sectores = [
      {
        nombre: "Lucha de las Mujeres",
        titulo: "‚ôÄÔ∏èüåø Este banco tambi√©n sostiene una historia de lucha.",
        descripcion: `‚ÄúLas mujeres sostienen la mitad del cielo‚Ä¶‚Äù ‚Äì Eduardo Galeano\n\n‚ôÄÔ∏èüåç Como las mujeres: resistentes, esenciales, transformadoras.\n\nEste banco no es solo un lugar para descansar.\nEs un homenaje a la fuerza silenciosa que transforma el mundo.\n\nüü£ Fabricado con 20,8 kg de pl√°stico reciclado (HDPE y LDPE).\nüå≥ Reemplaza madera tradicional, protegiendo nuestros √°rboles.\n\nüîπ Como el pl√°stico reciclado: resisten, se reinventan y sostienen.\nüîπ Como el planeta: que pide ser cuidado, regenerado y defendido.\n\nüü¢ Reducimos emisiones y tala, mostrando que la belleza surge de lo descartado.`
      },
      {
        nombre: "La Cuesta de la Vida",
        titulo: "A veces el camino se vuelve empinado...",
        descripcion: `Inspirado en Federico Garc√≠a Hamilton\n\nHay caminos que parecen f√°ciles‚Ä¶ hasta que se tornan empinados.\n\nEn esos momentos, no se trata de avanzar solo.\nSe trata de apoyarse, de tomar la mano del otro.\n\nEste banco fue hecho con materiales recuperados.\nUn lugar donde sentarse, conversar y compartir.\n\n‚ÄúBusc√° a tus amigos, tomales sus manos, apoyate en ellos...‚Äù` 
      },
      { nombre: "Inspiraci√≥n 3", titulo: "Un banco, mil historias.", descripcion: "Este banco es una pausa en la rutina y un s√≠mbolo del cambio. Fabricado con pl√°stico reciclado, es testimonio de c√≥mo lo descartado puede convertirse en un legado." },
      { nombre: "Inspiraci√≥n 4", titulo: "Ra√≠ces fuertes, ramas abiertas.", descripcion: "As√≠ como los √°rboles, nuestras comunidades se fortalecen con ra√≠ces compartidas y valores reciclados." },
      { nombre: "Inspiraci√≥n 5", titulo: "Sentarse tambi√©n es avanzar.", descripcion: "Un banco reciclado que invita a detenerse, mirar y reflexionar sobre el camino recorrido." },
      { nombre: "Inspiraci√≥n 6", titulo: "Peque√±as acciones, grandes impactos.", descripcion: "Este banco fue una botella. Hoy es un lugar de encuentro. ¬øQu√© m√°s podemos transformar juntos?" },
      { nombre: "Inspiraci√≥n 7", titulo: "Cuidar lo nuestro.", descripcion: "Protegemos √°rboles, recuperamos pl√°stico, regeneramos futuro. Cada banco es un gesto de amor colectivo." },
      { nombre: "Inspiraci√≥n 8", titulo: "Dise√±o con prop√≥sito.", descripcion: "Lo funcional tambi√©n puede ser bello. Estos bancos demuestran que el dise√±o consciente es posible." },
      { nombre: "Inspiraci√≥n 9", titulo: "El futuro se sienta aqu√≠.", descripcion: "M√°s que un banco: un manifiesto silencioso del compromiso con el ambiente." },
      { nombre: "Inspiraci√≥n 10", titulo: "CAVA 306: Transformar es nuestra misi√≥n.", descripcion: "Gracias por ser parte de un cambio que se construye list√≥n a list√≥n, historia a historia." }
    ];

    let angulo = 0;
    let girando = false;
    let velocidad = 0;
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    function dibujarRuleta() {
      const total = sectores.length;
      const arc = 2 * Math.PI / total;
      for (let i = 0; i < total; i++) {
        const inicio = i * arc + angulo;
        ctx.beginPath();
        ctx.fillStyle = `hsl(${i * (360 / total)}, 70%, 60%)`;
        ctx.moveTo(150, 150);
        ctx.arc(150, 150, 150, inicio, inicio + arc);
        ctx.fill();
        ctx.save();
        ctx.translate(150, 150);
        ctx.rotate(inicio + arc / 2);
        ctx.fillStyle = "#000";
        ctx.font = "bold 14px sans-serif";
        ctx.fillText(sectores[i].nombre, 30, 5);
        ctx.restore();
      }
    }

    function animar() {
      if (!girando && velocidad <= 0) return;
      angulo += velocidad;
      velocidad *= 0.98;
      if (velocidad < 0.002) velocidad = 0;
      ctx.clearRect(0, 0, 300, 300);
      dibujarRuleta();
      requestAnimationFrame(animar);
    }

    document.getElementById("girarBtn").onclick = () => {
      if (!girando) {
        velocidad = Math.random() * 0.3 + 0.3;
        girando = true;
        animar();
        setTimeout(() => girando = false, 3000);
      } else {
        girando = false;
        velocidad = 0;
        mostrarResultado();
      }
    }

    function mostrarResultado() {
      const total = sectores.length;
      const index = Math.floor((total - ((angulo % (2 * Math.PI)) / (2 * Math.PI)) * total)) % total;
      const seleccionado = sectores[index];
      const resultado = document.getElementById("resultado");
      resultado.innerHTML = `
        <h2>${seleccionado.titulo}</h2>
        <p>${seleccionado.descripcion.replace(/\n/g, '<br>')}</p>
        <a class="btn-whatsapp" href="https://wa.me/5493814486335" target="_blank">Enviar WhatsApp</a>
        <a class="btn-cava" href="https://www.cava306srl.com" target="_blank">Visitar CAVA 306</a>
      `;
    }

    dibujarRuleta();
  </script>
</body>
</html>
